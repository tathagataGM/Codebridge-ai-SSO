{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Suddhasheel GM\\\\Desktop\\\\CodeBridge-app\\\\src\\\\verify.js\";\nimport React, { Component } from 'react';\nimport './css/main.css';\nimport './css/util.css';\nimport './verify.css';\nimport Sketch from \"react-p5\";\n\nconst axios = require('axios');\n\nlet video;\nexport class Verify extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      verify: false,\n      idenity: ' '\n    };\n  }\n\n  setup() {\n    let p5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n    let canvasParentRef = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    p5.noCanvas();\n    video = p5.createCapture(p5.VIDEO);\n  }\n\n  stop() {\n    const tracks = document.querySelector(\"video\").srcObject.getTracks();\n    tracks.forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  logout() {\n    this.stop();\n    this.props.backhome();\n  }\n\n  setup2() {\n    const button = document.getElementById('submit');\n    button.addEventListener('click', async event => {\n      video.loadPixels();\n      console.log(video.canvas);\n      const image64 = video.canvas.toDataURL();\n      const data = {\n        image64\n      };\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      const response = await axios.post('http://localhost:5000/verify', {\n        'image64': image64\n      });\n      response.headers('Access-Control-Allow-Origin', '*');\n      console.log(response.data.identity);\n\n      if (response.data.identity) {\n        this.stop();\n        this.setState({\n          verify: true,\n          idenity: response.data.identity\n        });\n      } else {\n        this.stop();\n        alert(\"Not a registered user!\");\n        this.props.backhome();\n      }\n    });\n  }\n\n  render() {\n    let verify = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"limiter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-login100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap-login100 p-l-110 p-r-110 p-t-62 p-b-33\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"login100-form-title p-b-53\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 10\n      }\n    }, \"Sign In With\"), /*#__PURE__*/React.createElement(\"input\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Sketch, {\n      setup: this.setup,\n      draw: this.draw,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 10\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-login100-form-btn m-t-17\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"submit\",\n      onClick: this.setup2.bind(this),\n      className: \"login100-form-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    }, \"Sign In\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-login100-form-btn m-t-17\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.logout.bind(this),\n      className: \"login100-form-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, \"Back!\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"dropDownSelect1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 6\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 14\n      }\n    }, this.state.verify ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 32\n      }\n    }, \"Welcome, \", this.state.idenity, \".\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.props.backhome,\n      className: \"container-login100-form-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 12\n      }\n    }, \"Logout!\")) : verify);\n  }\n\n}\nexport default Verify;","map":{"version":3,"names":["React","Component","Sketch","axios","require","video","Verify","constructor","props","state","verify","idenity","setup","p5","canvasParentRef","noCanvas","createCapture","VIDEO","stop","tracks","document","querySelector","srcObject","getTracks","forEach","track","logout","backhome","setup2","button","getElementById","addEventListener","event","loadPixels","console","log","canvas","image64","toDataURL","data","options","method","headers","body","JSON","stringify","response","post","identity","setState","alert","render","draw","bind"],"sources":["C:/Users/Suddhasheel GM/Desktop/CodeBridge-app/src/verify.js"],"sourcesContent":["import React, {Component} from 'react';\r\nimport './css/main.css';\r\nimport './css/util.css';\r\nimport './verify.css';\r\nimport Sketch from \"react-p5\";\r\nconst axios = require('axios');\r\n\r\nlet video;\r\n\r\nexport class Verify extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tverify : false,\r\n\t\t\tidenity: ' '\r\n\t\t};\r\n\t}\r\n\r\n\tsetup(p5='', canvasParentRef='') {\r\n        p5.noCanvas();\r\n        video = p5.createCapture(p5.VIDEO);      \r\n\t \r\n    }\r\n\r\n    stop(){\r\n    \tconst tracks = document.querySelector(\"video\").srcObject.getTracks();\r\n\t\t  \ttracks.forEach(function(track) {\r\n    \t\t\t\ttrack.stop();\r\n  \t\t\t});\r\n    }\r\n\r\n    logout(){\r\n    \tthis.stop();\r\n    \tthis.props.backhome();\r\n    }\r\n\r\n    setup2(){\r\n    \tconst button = document.getElementById('submit');\r\n        button.addEventListener('click', async event => {\r\n          video.loadPixels();\r\n          console.log(video.canvas);\r\n          const image64 = video.canvas.toDataURL();\r\n          const data = { image64 };\r\n          const options = {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n          };\r\n          const response = await axios.post('http://localhost:5000/verify', {'image64':image64});\r\n\t  response.headers('Access-Control-Allow-Origin', '*')\r\n          console.log(response.data.identity);\r\n          if(response.data.identity){\r\n          \tthis.stop();\r\n\t        this.setState({\r\n\t        \tverify:true,\r\n\t        \tidenity: response.data.identity\r\n\t        })\r\n          } else {\r\n          \tthis.stop();\r\n          \talert(\"Not a registered user!\")\r\n          \tthis.props.backhome();\r\n          }\r\n        });\r\n    }\r\n\r\n\trender(){\r\n\r\n\t\tlet verify = (<div>\r\n\t\t\t\t\t<div className=\"limiter\">\r\n\t\t\t\t\t\t<div className=\"container-login100\">\r\n\t\t\t\t\t\t\t<div className=\"wrap-login100 p-l-110 p-r-110 p-t-62 p-b-33\">\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<span className=\"login100-form-title p-b-53\">\r\n\t\t\t\t\t\t\t\t\t\tSign In With\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t\t\t\t\t<input/>\r\n\t\t\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t\t\t\t<br/><br/>\r\n\r\n\t\t\t\t\t\t\t\t\t<Sketch setup={this.setup} draw={this.draw}/>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\r\n\t\t\t\t\t\t\t\t\t\t<button id=\"submit\" onClick={this.setup2.bind(this)} className=\"login100-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\r\n\t\t\t\t\t\t\t\t\t\t<button onClick={this.logout.bind(this)} className=\"login100-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\t\tBack!\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"dropDownSelect1\"></div></div>\r\n\t\t)\r\n\r\n\r\n    \treturn (<div >\r\n    \t\t{this.state.verify? <div><h1>Welcome, {this.state.idenity}.</h1>\r\n    \t\t\t\t\t\t\t<button onClick={this.props.backhome} className=\"container-login100-form-btn\">Logout!</button>\r\n    \t\t\t\t\t\t\t</div> : verify }\r\n    \t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default Verify;"],"mappings":"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"},"metadata":{},"sourceType":"module"}